<!DOCTYPE HTML>

<html>
	<head>
		<title>Water Quality Monitor</title>
		<meta http-equiv="content-type" content="text/html; charset=utf-8" />
		<meta name="description" content="" />
		<meta name="keywords" content="" />
		<link href='http://fonts.googleapis.com/css?family=Lato:300,400,700,900' rel='stylesheet' type='text/css'>
		<!--[if lte IE 8]><script src="js/html5shiv.js"></script><![endif]-->
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
		<script src="js/skel.min.js"></script>
		<script src="js/skel-panels.min.js"></script>
		<script src="js/init.js"></script>


		<link rel="stylesheet" href="css/dc.css" />
		<link rel="stylesheet" href="css/stylenew.css" />
		<!--[if lte IE 8]><link rel="stylesheet" href="css/ie/v8.css" /><![endif]-->
		<!--[if lte IE 9]><link rel="stylesheet" href="css/ie/v9.css" /><![endif]-->
	</head>
	<body>
		<center><h1> Water Quality Monitor Dashboard </h1></center>
		<script>

			var badtemp = 90;
			var okaytemp = 70;
			var goodtemp = 50;
			var badturb = 7;
			var okayturb = 5;
			var goodturb = 1;
			var badcond = 10;
			var okaycond = 7.5;
			var goodcond = 5.8;
			var badpH = 9.5;
			var okaypH = 8.0;
			var goodpH = 7.0;

			function scaleTemp (temp){
				if (temp > badtemp) {
					return 100;
				}
				else if (temp <= badtemp && temp >= okaytemp){
					return ((100 - 50) * (temp - okaytemp) / (badtemp - okaytemp)) + 50;
				}
				else if (temp < okaytemp && temp >= goodtemp){
					return ((50 - 0) * (temp - goodtemp) / (okaytemp - goodtemp));
				}
				else {
					return 0;
				}
			}

			function scaleTurb (turb){
				if (turb > badturb) {
					return 100;
				}
				else if (turb <= badturb && turb >= okayturb){
					return ((100 - 50) * (turb - okayturb) / (badturb - okayturb)) + 50;
				}
				else if (turb < okayturb && turb >= goodturb) {
					return ((50 - 0) * (turb - goodturb) / (okayturb - goodturb));
				}
				else {
					return 0;
				}
			}

			function scaleCond (cond){
				if (cond > badcond) {
					return 100;
				}
				else if (cond <= badcond && cond >= okaycond){
					return ((100 - 50) * (cond - okaycond) / (badcond - okaycond)) + 50;
				}
				else if (cond < okaycond && cond >= goodcond) {
					return ((50 - 0) * (cond - goodcond) / (okaycond - goodcond));
				}
				else 
				{
					return 0;
				}
			}

			function scalepH (pH){
				if (pH > badpH) {
					return 100;
				}
				else if (pH <= badpH && pH >= okaypH){
					return ((100 - 50) * (pH - okaypH) / (badpH - okaypH)) + 50;
				}
				else if (pH < okaypH && pH >= goodpH) {
					return ((50 - 0) * (pH - goodpH) / (okaypH - goodpH));
				}
				else {
					return 0;
				}
			}
			function waterQuality (temp, turb, cond, pH){
				return ((scaleTemp (temp) + scaleTurb (turb) + scaleCond (cond) + scalepH (pH))/4);
			}

			function changeBackground(color) {
	   			document.body.style.background = color;
			}
		</script>

		

		<BODY onload="changeBackground('green');">


<script src='js/crossfilter.js' type='text/javascript'></script>
<script src='js/d3.js' type='text/javascript'></script>
<script src='js/dc.js' type='text/javascript'></script>
<script src='js/queue.js' type='text/javascript'></script>
<script src='js/Dashboard.js' type='text/javascript'></script>
	</body>
</html>